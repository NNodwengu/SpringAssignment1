<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Computer Department Courses</title>
</head>
<body>
<h1>Computer Department Courses</h1>
<p>Click the button below to view available courses</p>
<a href="http://localhost:8080/courses" target="_blank">
    <button>View Courses</button>
</a>


<!-- Form for creating a new course -->
<h2>Add New Course</h2>
<form id="addCourseForm" action="/courses" method="post">
    <label for="code">Course Code:</label>
    <input type="text" id="code" name="code" required><br>
    <label for="name">Course Name:</label>
    <input type="text" id="name" name="name" required><br>
    <a href ="http://localhost:8080/api/courses/add" target="_blank">
    <button type="submit">Add Course</button>
    </a>
</form>

<!-- Form for updating an existing course -->
<h2>Update Course</h2>
<form id="updateCourseForm" action="/courses/{id}" method="put">
    <label for="updateId">Course ID:</label>
    <input type="text" id="updateId" name="id" required><br>
    <label for="updateCode">New Course Code:</label>
    <input type="text" id="updateCode" name="code" required><br>
    <label for="updateName">New Course Name:</label>
    <input type="text" id="updateName" name="name" required><br>
    <button type="submit">Update Course</button>
</form>

<!-- Form for deleting an existing course -->
<h2>Delete Course</h2>
<form id="deleteCourseForm" action="/courses/{id}" method="delete">
    <label for="deleteId">Course ID:</label>
    <input type="text" id="deleteId" name="id" required><br>
    <button type="submit">Delete Course</button>
</form>

<!-- Table to display list of courses -->
<h2>List of Courses</h2>
<table border="1">
    <thead>
    <tr>
        <th>Course ID</th>
        <th>Course Code</th>
        <th>Course Name</th>
    </tr>
    </thead>
    <tbody id="courseList">
    <!-- Course list will be dynamically populated here -->
    </tbody>
</table>

<script>
    // Function to fetch and display list of courses
    function fetchCourses() {
        fetch('/courses')
            .then(response => response.json())
            .then(data => {
                const courseList = document.getElementById('courseList');
                courseList.innerHTML = '';
                data.forEach(course => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                            <td>${course.id}</td>
                            <td>${course.code}</td>
                            <td>${course.name}</td>
                        `;
                    courseList.appendChild(row);
                });
            })
            .catch(error => console.error('Error fetching courses:', error));
    }

    // Fetch courses when the page loads
    fetchCourses();
</script>
</body>
</html>
